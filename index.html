<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>CSS Performances</title>
    <meta name="viewport" content="initial-scale=1">
    <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro" rel="stylesheet">
    <link href="stylesheets/presentation.css" rel="stylesheet">
    <link href="stylesheets/print.css" rel="stylesheet" media="print">
</head>
<body>
<article>


    <section>
        <div class="content content--card">
            <h1>
                Les performances de rendu
                <span class="big">CSS</span>
            </h1>
            <small class="classy">15 min pour comprendre les enjeux !</small>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Pourquoi les performances CSS ?</h2>
            <div class="content__main">
                <p>Pour obtenir des interactions fluides :</p>
                <ul>
                    <li>Défilement <em>(scroll)</em></li>
                    <li>Transitions et animations CSS</li>
                    <li>Manipulation du DOM en JavaScript</li>
                </ul>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>La conclusion à retenir</h2>
            <div class="content__main">
                <p>
                    Vos transitions et animations CSS<br>
                    doivent être limitées aux propriétés :
                </p>
                <ul>
                    <li>opacity</li>
                    <li>transform<br>
                        <small><em>(translation, rotation, redimensionnement, ...)</em></small>
                    </li>
                    <li>filter*<br>
                        <small><em>(flou, luminuosité, contraste, niveau de gris, ...)</em></small>
                    </li>
                </ul>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>La conclusion à retenir</h2>
            <div class="content__main">
                <p>
                    Vos transitions et animations CSS<br>
                    doivent être limitées aux propriétés :
                </p>
                <ul>
                    <li>opacity</li>
                    <li>transform</li>
                    <li>filter*</li>
                </ul>
            </div>
            <img style="position: fixed; right: 0; bottom: 0;" width="300" src="images/marteau.jpg" />
        </div>
    </section>


    <section>
        <div class="content content--card">
            <h1>Thomas Zilliox</h1>
            <small class="classy">Développeur freelance</small>
            <div>Expert CSS : maintenabilité et performance</div>
        </div>
    </section>


    <section>
        <div class="content content--card">
            <h1>Comment les navigateurs</h1>
            <small class="classy">passent</small>
            <div>du CSS aux pixels</div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Du CSS aux pixels</h2>
            <div class="content__main">
                <p>
                    Les navigateurs web ont, <em>à peu près,</em><br>
                    deux fils d'exécution pour le rendu :
                </p>
                <ul>
                    <li>Le principal <em>(Main)</em></li>
                    <li>Celui de composition <em>(Compositor)</em></li>
                </ul>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Du CSS aux pixels</h2>
            <div class="content__main">
                <p>
                    Le fil principal se charge de :
                </p>
                <ul>
                    <li>L'exécution de JavaScript</li>
                    <li>Calculer les règles CSS de chaque éléments</li>
                    <li>La mise en page <em>(Layout / Reflow)</em></li>
                    <li>Calculer chaque pixels <em>(Painting / Draw)</em></li>
                </ul>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Du CSS aux pixels</h2>
            <div class="content__main">
                <p>
                    Le fil de composition se charge de :
                </p>
                <ul>
                    <li>Dessiner les pixels sur l'écran</li>
                    <li>Déterminer les parties visibles de la page</li>
                    <li>Déplacer les éléments lors du défilement</li>
                </ul>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Du CSS aux pixels</h2>
            <div class="content__main">
                <p>
                    A chaque changement, on invalide la suite de la chaîne
                </p>
                <img src="images/processing-pipeline.svg" />
                Source <a href="https://hpbn.co/primer-on-web-performance/">bit.ly/process-pipeline</a>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Du CSS aux pixels</h2>
            <div class="content__main">
                <p>
                    A chaque changement, les modifications doivent prendre moins de 16ms (60fps)
                </p>
                <video autoplay muted loop>
                    <source src="videos/framerate-light.mp4" type="video/mp4">
                </video>
                Source <a href="https://www.youtube.com/watch?v=pfiHFqnPLZ4">youtu.be/pfiHFqnPLZ4</a>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>La mise en page <em>(Layout / Reflow)</em></h2>
            <div class="content__main">
                <p>
                    C'est l'algorithme qui détermine la position et la taille des boîtes
                    en fonction de leurs interactions avec leurs boîtes frères et ancètres.
                </p>
                <p>
                    Aucune action utilisateur n'est autorisé lors de la mise en page.
                </p>
                Source <a href="https://developers.google.com/speed/articles/reflow">bit.ly/layout-engine</a>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>La mise en page <em>(Layout / Reflow)</em></h2>
            <div class="content__main">
                <p>
                    Elle est déclanchée par :
                </p>
                <ul>
                    <li>Modification du DOM, dont le contenu</li>
                    <li>Prise de mesure<br>
                        <small>(<code>offsetHeight</code> ou <code>getComputedStyle</code>)</small>
                    </li>
                    <li>Modification de l'attribut class</li>
                    <li>Modification des styles CSS</li>
                    <li>Le redimenssionnement de la fenêtre</li>
                    <li>Le scroll</li>
                </ul>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>La mise en page <em>(Layout / Reflow)</em></h2>
            <div class="content__main">
                <p></p>
                <video autoplay muted>
                    <source src="videos/reflow.mp4" type="video/mp4">
                </video>
                Source <a href="http://pixeln3rd.github.io/cssreflow/">bit.ly/cssreflow</a>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>La mise en page <em>(Layout / Reflow)</em></h2>
            <div class="content__main">
                <p>Détecter les reflows (Console de Firefox)</p>
                <video autoplay muted loop>
                    <source src="videos/reflow-micro.mp4" type="video/mp4">
                </video>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Calculer chaque pixels <em>(Painting / Draw)</em></h2>
            <div class="content__main">
                <p>Applique tous les styles visuels :</p>
                <ul>
                    <li>le texte</li>
                    <li>Le fond</li>
                    <li>Les bordures</li>
                    <li>les ombres</li>
                </ul>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>La mise en page <em>(Layout / Reflow)</em></h2>
            <div class="content__main">
                <p>Détecter les repaints (Console de Chrome)</p>
                <video autoplay muted loop>
                    <source src="videos/repaint.mp4" type="video/mp4">
                </video>
            </div>
        </div>
    </section>


    <section>
        <div class="content">
            <h2>Calculer chaque pixels <em>(Painting / Draw)</em></h2>
            <div class="content__main">
                <p>Investiguer les repaints (Timeline de Chrome)</p>
                <img src="images/paint.png" />
            </div>
        </div>
    </section>

    
    <section>
        <div class="content">
            <h2>Bibliographie</h2>
            <div class="content__main">
                <ul>
                    <li>
                        <a href="http://blogs.adobe.com/webplatform/2014/03/18/css-animations-and-transitions-performance/">
                            CSS animations and transitions performance: looking inside the browser,        
                        </a>
                        <a href="https://twitter.com/mvujovic">
                            Max Vujovic
                        </a> (Adobe),
                        18 mars 2014
                    </li>
                    <li>Déterminer les parties visibles de la page</li>
                    <li>Déplacer les éléments lors du défilement</li>
                </ul>
            </div>
        </div>
    </section>

    
</article>
<script src="javascripts/bespoke.js"></script>
<script src="javascripts/presentation.js"></script>
</body>
</html>